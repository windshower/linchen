
\input{header}

\begin{document}


\title{Lecture 8}

\date{Apr 15, 2024}

\maketitle



\section{Hecke algebras and Kazhdan--Lusztig conjecture}

	Last time we introduced the Verma--BGG theorem, which gives a complete answer to when $[M_\lambda:L_\mu]\neq 0$ and $M_\mu\subset M_\lambda$. One could be more ambitious and ask the following question:

\begin{ques}
	Can we find a formula or an algorithm that calculates the multiplicities $[M_\lambda:L_\mu]$ for amy $\lambda,\mu$?
\end{ques}

	The climax of this study was when Kazhdan--Lusztig proposed their famous conjecture in 1979, soon followed by independent proofs given by Beilinson--Bernstein and Brylinski--Kashiwara using a same \emph{geometric} method. This method received the name \emph{localization theory}, and marked the birth of the subject called \emph{geometric representation theory}\footnote{When KL made their conjecture, they were inspired by Springer's geometric theory on representations of the Weyl group, published a few years ago. Kostant also made many pioneer works on the geometry of adjoint orbits.}. The ultimate goal of this course is to introduce this localization theory.

	Roughly speaking, the KL conjecture says:

\begin{conje}
	In the principle block $\mCO_{0}$, the multiplicities $[M_\lambda:L_\mu]$ can be calculated using combinatorial data associated to the \emph{Hecke algebra} of $W$.
\end{conje}

	Let us first define the Hecke algebra of $W$, which plays a significant role in modern representation theory. We will only introduce the basics. There are many good references for this subject, and I would recommend \cite[Sect. 3]{EMTW}.

	Recall the Weyl group $W$ can be generated by simple reflections $s\in S$ subject to the following relations
	\begin{itemize}
		\item (Order 2)
			For any $s\in S$, $s^2 =1$;
		\item (Braid relation)
			For any $s\neq t\in S$, 
			\[
				\underset{m_{st}}{\underbrace{sts\cdots}}=\underset{m_{st}}{\underbrace{tst\cdots}},
			\]
			where $m_{st}\in \{2,3,4,6\}$.
	\end{itemize}
	It follows that the group algebra $\mBZ W$ is generated by similar generators and relations over $\mBZ$. Rougly speaking, the Hecke algebra $\mCH$ of $W$ is a deformation of the group algebra $\mBZ W$ using an indeterminate $q$ as parameter, where we keep the braid relation but change the order 2 requirement. For reasons I cannot fully explain, $q=0$ is not allowed. For reasons I do not want to explain \emph{now}, it is more convenient to use $v:=q^{-1/2}$ as the indeterminate. In other words, the base of this deformation is $\Spec(A)$ for $A=\mBZ[v^{\pm}]=\mBZ[q^{\pm 1/2}]$.

\begin{defn}
	The \textbf{Hecke algebra} $\mCH:=\mCH(W)$ is the (unital) associative algebra over $\mBZ[v^{\pm}]$ generated by the symbols $\{\delta_s \,\vert\, s\in S\}$ subject to the following relations:
	\begin{itemize}
		\item (Quadratic relation)
			For any $s\in S$, $(\delta_s - v^{-1})(\delta_s + v) = 0.$	
		\item (Braid relation)
			For any $s\neq t\in S$, 
			\[
				\underset{m_{st}}{\underbrace{\delta_s\delta_t\delta_s\cdots}}=\underset{m_{st}}{\underbrace{\delta_t\delta_s\delta_t\cdots}}.
			\]
	\end{itemize}
\end{defn}

\begin{warn}
	There is another set of conventions, where the quadratic relation is $(\delta_s-q)(\delta_s+1) = 0$. These two conventions define equivalent algebras via the change of variables $\delta_s \mapsto q^{-1/2}\delta_s$. Beware of this issue when comparing the literatures.
\end{warn}

\begin{propdefn}	
	For any $w\in W$, choose a reduced expression $w= s_1s_2\cdots s_{\ell(w)}$ and define
	\[
		\delta_w := \delta_{s_1}\delta_{s_2}\cdots \delta_{s_{\ell(w)}}.
	\]
	Then $\delta_w\in \mCH$ does not depend on the choice of the reduced expression, and $\{\delta_w\}_{w\in W}$ is a free basis of $\mCH$ as a $\mBZ[v^\pm]$-module. We call it the \textbf{standard basis} of the Hecke algebra $\mCH$.

\end{propdefn}

\begin{rem}
	Taking $v=1$, i.e., taking the tensor product $\mCH \ot_{\mBZ[v^\pm]} (\mBZ[v^\pm]/(v-1))$, we recover the group algebra $\mBZ W$, and the image of the standard basis is the obvious basis of $\mBZ W$.
\end{rem}

\begin{exe}
	This is \red{Homework 4, Problem 1}. Prove:
	\begin{itemize}
		\item[(1)]
			For $w,w'\in W$ such that $\ell(w)+\ell(w') = \ell(ww')$, we have
			\[
				\delta_w\delta_{w'} = \delta_{ww'}.
			\]
		\item[(2)]
			For $w\in W$ and $s\in S$, we have 
			\[
				\delta_w\delta_s = \left\{ 
					\begin{array}{rcl}  
						\delta_{ws}	&	\textrm{if } w< ws,\\
						(v^{-1}-v)\delta_{w} + \delta_{ws}	&	\textrm{if } w> ws,
					\end{array}\right.
			\]
			and
			\[
				\delta_s\delta_w = \left\{ 
					\begin{array}{rcl}  
						\delta_{sw}	&	\textrm{if } w< sw,\\
						(v^{-1}-v)\delta_{w} + \delta_{sw}	&	\textrm{if } w> ws.
					\end{array}\right.
			\]
	\end{itemize}
\end{exe}

\begin{rem}
	Note that the above exercise provides an algorithm to calculate the multiplication of $\mCH$ in terms of the standard basis. In particular, $\mCH$ can be \emph{defined} via the standard basis and these relations.
\end{rem}

	Note that each $\delta_s$ is invertible with inverse given by 
	\[
		\delta_s^{-1} = \delta_s + (v-v^{-1}).
	\]
	Hence by the above exercise, we obtain:

\begin{lem}
	Each standard basis element $\delta_w$ is invertible, and we have
	\[
		\delta_{w^{-1}}^{-1} = \delta_w \mod \langle \delta_{w'} \rangle_{w'<w}.
	\]
\end{lem}

\begin{defn}
	The \textbf{Kazhdan--Lusztig involution}, or \textbf{bar involution}
	\[
		\mCH \to \mCH,\; h\mapsto \ol{h}
	\]
	is the $\mBZ$-linear homomorphism determined by
	\[
		\ol{\delta_s} = \delta_s^{-1},\; \ol{v} = v^{-1}.
	\]
\end{defn}

\begin{thmdefn}
	There exist a unique subset $\{ b_w \}_{w\in W} \subset \mCH$ such that for any $w\in W$,
	\begin{itemize}
		\item
			(Self-duality) $\ol{b_w} = b_w$;
		\item
			(Degree bound) 
			\[
				b_w = \delta_w + \sum_{w'<w} h_{w',w} \delta_{w'}
			\]
			for some polynomials $h_{w',w} \in v\mBZ[v]$ with \emph{vanishing constant term}.
	\end{itemize}
	This subset is called the \textbf{Kazhdan--Lusztig basis} of $\mCH$. The coefficients $h_{w',w}$ are called the \textbf{Kazhdan--Lusztig polynomials}.
\end{thmdefn}

\begin{convn}
	We also set $h_{w,w}=1$ and $h_{w',w}=0$ if $w'\nleq w$.
\end{convn}

\begin{exam}
	We have $b_{\Id} = \delta_{\Id} = 1$.
\end{exam}

\begin{exam}
	For $s\in S$, an immediate calculation shows $b_s = \delta_s +v$ and therefore $h_{1,s} = v$.
\end{exam}

\begin{rem}
	You are strongly encouraged to look at \cite[Sect. 3.3.1]{EMTW}, where the KL polynomials for the Weyl group of $\sl_3$ are calculated.
\end{rem}

	Now comes the main course.

\begin{conje}[Kazhdan--Lusztig]
	For any $w,w' \in W$, we have
	\[
		[M_{w'\cdot 0}: L_{w\cdot 0}] = h_{w',w}(1).
	\]
\end{conje}

\begin{rem}
	According to the Verma--BGG theorem, $[M_{w'\cdot 0}: L_{w\cdot 0}]\neq 0$ iff $w\cdot 0 \preceq_\subset w'\cdot 0$. By (the dominant version of) [Prop. 51, Lect. 7], this condition is equivalent to $w\ge w'$. Hence the conjecture would imply $h_{w',w}(1)\neq 0$ iff $w'\le w$. Note that by definition, the ``only if'' part is true.

\end{rem}

\begin{rem}
	Although the conjecture only uses the value of $h_{w',w}$ at $v=1$, it is not possible to define this value without knowing the deformation $\mCH$.

\end{rem}

\begin{rem}
	You are encouraged to view the Verma module $M_{w\cdot 0}$ as the incarnation of the standard basis element $\delta_w$ in $\mCO$, and view the irreducible module $L_{w\cdot 0}$ as the incarnation of the KL basis element $b_w$. In future lectures, we will introduce their incarnations in the geometry of $G/B$.
\end{rem}

	KL also made the following conjecture, which was latter proved by them using geometric methods:

\begin{conje}[KL Positivity]
	The coefficients of $h_{w',w}(v)$ are non-negative integers.
\end{conje}

\begin{rem}
	The pair $(W,S)$ satisfies the axioms of a \textbf{Coxeter system}, and Hecke algebra, as well as the positivity conjecture, make sense for any Coxeter group. However, we no longer have geometric tools (like the flag variety $G/B$) to tackle this conjecture, and the first proof, by Elias--Williamson, only came in 2010's. For more details, see \cite{EMTW}.
\end{rem}

\section{More on \texorpdfstring{$\mCO$}{O}}

	We still need a lot of preparations to present the geometric proofs of these conjectures. But before that, there are some remaining representation-theoretic topics that we need to address. Let me motivate them via the KL theory\footnote{We are not following the standard or historical order of presenting the theory of $\mCO$. Usually people would first introduce topics listed below, and state the Verma--BGG theorem and KL conjecture much later. I choose this order for two reasons: (i) I think the multiplicities $[M_\lambda:L_\mu]$ should be put on the central stage of this story; (ii) I want to highlight the KL conjecture and its geometric proof.}:
	\begin{itemize}
		\item 
			We will study the \emph{contragradient duality} in $\mCO$, which is the incarnation of the KL involution on $\mCH$.
		\item
			We will study the derived category of $\mCO$, or equivalently, the \emph{Ext-groups}. It turns out the coefficients of the KL polynomials are related to the dimensions of these Ext-groups. But before that, we need to study the \emph{projective objects} in $\mCO$.
		\item
			We will introduce the \emph{translation functors}, which allow us to calculate the multiplicities $[M_\lambda:L_\mu]$ in any integral block\footnote{For non-integral blocks, inspired by early works of Jantzen, Soergel (\!\!\cite{S}) reduced the problem to the study of an integral block for another semisimple Lie algebra whose Weyl group is $W_{[\lambda]}$. See \cite[Sect. 13.13]{H} and the references there for more information.} using the information in the principle block $\mCO_0$.
	\end{itemize}
	There are other important topics that we do not have time to cover:
	\begin{itemize}
		\item 
			Soergel's theory and his proof of the KL conjecture.
		\item
			Jantzen's filtrations and its geometric incarnation.
		\item
			Koszul duality and Langlands duality for $\mCO$.
		\item
			More...
	\end{itemize}

\section{Contragradient duality}

	We start with the following obvious construction.	

	\begin{constr}
		Let $M$ be a weight (=semisimple) $\mft$-module. We define its \textbf{dual weight module} as
		\[
			M^{*,\weight}:= \bigoplus_{\lambda\in \mft^*} (M^{\weight=\lambda})^*
		\]
		where $(M^{\weight=\lambda})^*$ is a $\mft$-module of weight $-\lambda$.
	\end{constr}

	The following lemma is obvious.

	\begin{lem}
		Let $M$ be a weight $\mft$-module. The embedding
		\[
			M^{*,\weight}\simeq \bigoplus_{\lambda\in \mft^*} (M^{\weight=\lambda})^* \inj \prod_{\lambda\in \mft^*} (M^{\weight=\lambda})^* \simeq M^*
		\]
		identifies $M^{*,\weight}$ as the subspace of vectors $v$ such that $U(\mft)\cdot v$ is finite-dimensional.

	\end{lem}

	Using the root decomposition of $\mfg$, it is easy to deduce the following.

	\begin{cor}
		Let $M$ be a weight $\mfg$-module, then $M^{*,\weight}$ is a sub-$\mfg$-module of $M^*$.
	\end{cor}

	For a Verma module $M_\lambda$, the above construction would define a \emph{lowest} weight module, which can no longer belong to $\mCO$. Hence we need to find a way to correct the signs of the weights.

	\begin{constr}
		Consider the automorphism of the root system $(E,\Phi)$ given by multiplication by $-1$. By the classification of semisimple Lie algebras, we obtain an automorphism $\tau: \mfg \to \mfg$ of the Lie algebra $\mfg$, which is called the \textbf{Cartan involution} on $\mfg$. Note that $\tau\circ\tau = \Id$.

		We abuse notation and let $\tau: \mfg\hmod \to \mfg\hmod$ be the automorphism induced by $\tau$. Note that the functor $\tau$ is compatible with the forgetful functors to $\Vect$, and sends weight modules to weight modules. Also, $\tau (M)^{\weight = \lambda} \simeq M^{\weight = -\lambda}$.
	\end{constr}

	\begin{rem}
		By construction, the restriction $\tau|_{\mft}$ is multiplication by $-1$. Note that $\tau(\mfb) =\mfb^-$ because $\Phi^+$ is sent to $\Phi^-=-\Phi^+$. 
	\end{rem}

	\begin{exam}
		For $\mfg=\sl_n$, the Cartan involution is given by $\tau(A)=-A^T$.
	\end{exam}

	\begin{constr}
		Let $\mCC\subset \mfg\hmod$ be the full subcategory of weight $\mfg$-modules such that each weight subspace is finite-dimensional. For $M\in \mCC$, define
		\[
			M^\vee := \tau( M^{*,\weight} ).
		\]
		Note that
		\[
			(M^\vee)^{\weight = \lambda} \simeq (M^{\weight = \lambda})^*.
		\]
		In particular, the $\lambda$-weight subspaces of $M^\vee$ and $M$ have equal dimensions.
	\end{constr}

	The following lemma is obvious:

	\begin{lem}
		The functor
		\[
			\mCC^\op \to \mCC,\; M\mapsto M^\vee.
		\]
		is a contravariant involution, i.e., $(M^\vee)^\vee \simeq M$.
	\end{lem}

	\begin{thm}
		If $M$ belongs to $\mCO$, so does $M^\vee$. In particular, the functor
		\[
			\mCO^\op \to \mCO,\; M\mapsto M^\vee.
		\]
		is a contravariant involution. We call it the \textbf{contragradient duality} on $\mCO$.
	\end{thm}

	\proof
		It is easy to see $\mCO\subset \mCC$ is closed under extensions. Hence the theorem follows from the following proposition.

	\qed

	\begin{prop}
		For any $\lambda\in \mft^*$, we have $L_\lambda^\vee \simeq L_\lambda$.
	\end{prop}

	\proof
		Since $L_\lambda$ is an irreducible $\mfg$-module, so is $L_\lambda^\vee$. By contruction, $L_\lambda^\vee$ has highest weight $\lambda$, and $(L_\lambda^\vee)^{\weight=\lambda}$ is 1-dimensional. For any $\lambda$-weight vector $v\in L_\lambda^\vee$, we have $\mfn \cdot v = 0$ by considering the weights. This induces a nonzero $\mfg$-linear map $M_\lambda \to L_\lambda^\vee$ sending $v_\lambda$ to $v$. Since $L_\lambda^\vee$ is irreducible, this map is surjective. Therefore it must identify $ L_\lambda^\vee$ with the unique irreducible quotient of $M_\lambda$.

	\qed

	\begin{cor}
		Each block of $\mCO$ is stable under the contragradient duality.
	\end{cor}

	

	\begin{defn}
		For any $\lambda\in \mft^*$, we call $M_\lambda^\vee$ the \textbf{dual Verma module} corresponding to $M_\lambda$.
	\end{defn}

	\begin{cor}
		For any $\lambda\in \mft^*$, the dual Verma module $M_\lambda^\vee$ has a unique irreducible submodule isomorphic to $L_\lambda^\vee \simeq L_\lambda$.
	\end{cor}

	\begin{lem}
		For $\lambda,\mu\in \mft^*$, we have $\dim \Hom_\mCO(M_\lambda,M_\mu^\vee) = \delta_{\lambda,\mu}$. In particular, any composition $M_\lambda \surj L_\lambda \inj M_\lambda^\vee$ is a generator of the 1-dimensional vector space $\Hom_\mCO(M_\lambda,M_\mu^\vee)$.
	\end{lem}

	\proof
		Knowing a $\mfg$-linear map $M_\lambda \to M_\mu^\vee$ is equivalent to knowing a $\lambda$-weight vector $v$ in $M_\mu^\vee$ such that $\mfn\cdot v=0$. By definition, this is equivalent to knowing a functional $f: M_\mu \to k$ such that
		\begin{itemize}
			\item 
				It factors as $M_\mu \surj M_\mu^{\weight = \lambda} \to k$;
			\item
				It annilates $\mfn^-\cdot M_\mu$.
		\end{itemize}
		Here the second condition is due to $\tau(\mfn)=\mfn^-$. Since $M_\mu$ is free over $U(\mfn^-)$, we have $M_\mu \simeq (\mfn^-\cdot M_\mu) \oplus M_\mu^{\weight = \mu}$. Hence $\lambda\neq \mu$ implies $f=0$. In the case $\lambda = \mu$, $f$ is determined by a functional $M_\lambda^{\weight = \lambda} \to k$, and the space of it is 1-dimensional.

	\qed

	\begin{rem}
		The content of the lemma can be summarized as: the objects $\{M_\lambda^\vee\}_{\lambda\in \mft^*}$ is right orthogonal to the objects $\{M_\lambda\}_{\lambda\in \mft^*}$ in $\mCO$. Next time, we will prove this claim remains true even in the derived category. In other words, $\Ext^i_\mCO(M_\lambda,M_\mu^\vee) =0$ for $i>0$. For now, let us prove the case $i=1$.

	\end{rem}

	\begin{lem}
		For $\lambda,\mu\in \mft^*$, $\Ext^1_\mCO(M_\lambda,M_\mu^\vee) =0$.
	\end{lem}

	\proof
		We need to show any following short exact sequence in $\mCO$ splits:
		\begin{equation}
			\label{eqn-dual-1}
			0 \to M_\mu^\vee \to N \to M_\lambda \to 0.
		\end{equation}
		Consider the $\mfb$-linear map $k_\lambda \to M_\lambda$. By pullback along this map, we obtain a short exact sequence of $\mfb$-modules:
		\[
			0 \to M_\mu^\vee \to N' \to k_\lambda \to 0,
		\]
		where $N' = N \times_{ M_\lambda } k_\lambda$. By the universal property of $M_\lambda$, we only need to show this sequence splits. 

		Note that $\weight(N') = \weight(M_\mu^\vee)\cup \{\lambda\} = \{\mu'\,\vert\, \mu'\le \mu\}\cup \{\lambda\}$. If $\lambda\nprec \mu$, then $\weight(N')$ contains no weight strictly greater than $\lambda$. Hence any $\lambda$-weight vector would give a desired splitting. If $\lambda\prec \mu$, we can pass to duality of \eqref{eqn-dual-1} and obtain a short exact sequence
		\[
			0 \to M_\lambda^\vee \to N^\vee \to M_\mu \to 0.
		\]
		By the previous case, this sequence splits. Hence so is the original one.

	\qed

	\begin{exam}
		For $\mfg = \sl_2$ and the coordinate $l=\langle \lambda,\check\alpha\rangle$, we have:
		\begin{itemize}
			\item 
				If $l\notin \mBZ^{\ge 0}$, then $M_l \simeq L_l \simeq M_l^\vee$.
			\item
				If $l\in \mBZ^{\ge 0}$, then we have a nonsplit short exact sequence $0 \to L_l \to M_l^\vee \to L_{-l-2} \to 0$.
		\end{itemize}
	\end{exam}

	\begin{rem}
		In future lectures, we will see the contragradient duality corresponds to the Verdier duality in geometry, and the latter can be related to the KL involution.
	\end{rem}

\section{Projective modules}
	
	Recall the following definitions.

	\begin{defn}
		Let $\mCA$ be an abelian category. We say an object $P\in \mCA$ is \textbf{projective} if the functor $\Hom_\mCA(P,-)$ is exact.

		We say $\mCA$ \textbf{has enough projectives} if every object $M\in \mCA$ admits a surjection $P\surj M$ such that $P$ is projective.

		For an object $M\in \mCA$, we say a surjection $P\surj M$ exhibits $P$ as a \textbf{projective cover} of $M$ if $P$ is projective and the map $P\surj M$ is an \textbf{essential surjection}, i.e., for any proper subobject $Q\subset P$, the composition $Q\to P \to M$ is not surjective.

	\end{defn}

	Dually, we have:

	\begin{defn}
		Let $\mCA$ be an abelian category. We say an object $I\in \mCA$ is \textbf{injective} if the corresponding object in $\mCA^\op$ is projective.
		

		We say $\mCA$ \textbf{has enough injectives} if $\mCA^\op$ has enough projectives.

		For an object $M\in \mCA$, we say an injection $M\inj I$ exhibits $I$ as an \textbf{injective hull} of $M$ if the corresponding morphism in $\mCA^\op$ gives a projective cover.
	\end{defn}

	We will prove the following two theorems. The second one can be viewed as a blackbox\footnote{I fail to find a good reference for this well-known result, hence I provide a proof in the appendix.}.

	\begin{thm}
		\label{thm-enough-proj}
		The category $\mCO$ has enough projectives and injectives.
	\end{thm}

	\begin{thm}
		\label{thm-proj-cover-artinian}
		Let $\mCA$ be an abelian category that has enough projectives and every object of $\mCA$ has finite length. Then:
		\begin{itemize}
			\item[(1)]
				Any object $M\in \mCA$ admits a projective cover, and any two projective covers $P_1\surj M$ and $P_2\surj M$ are isomorphic\footnote{However, the isomorphism $P_1\to P_2$ is \emph{not} unique. Therefore, we can not say \emph{the} projective cover.}.
			\item[(2)]
				Any indecomposable projective object $P\in \mCA$ admits a unique irreducible quotient.
			\item[(3)]
				There is a bijection:
				\blongeqn
					\left\{\textrm{Isomorphism classes of irreducible objects in }\mCA \right\} \simeq \\
					\left\{\textrm{Isomorphism classes of indecomposable projective objects in }\mCA \right\} \\
					L \longleftrightarrow P
				\elongeqn
				such that (i) $P$ is isomorphic to a projective cover of $L$; (ii) $L$ is isomorphic to the irreducible quotient of $P$.
			\item[(4)]
				If $P$ and $L$ correspond to each other in (3), then for any $M\in \mCA$, we have
				\[
					\dim \Hom_\mCA(P,M) = [M:L].
				\]
		\end{itemize}
	\end{thm}

	\begin{rem}
		We leave the dual version of the above theorem (for injective objects) to the readers.
	\end{rem}

	\begin{rem}
		In general, if an abelian category $\mCA$ has enough projectives (resp. injectives), then we can define the bounded above\footnote{We always use cohomological convention when talking about chain complices.} (resp. bounded below) derived category $\mCD^-(\mCA)$ (resp. $\mCD^+(\mCA)$). However, it is much subtler to define the \emph{unbounded} derived category.

		But this subtlety does not occur for $\mCO$. We will see $\mCO$ has finite projective (resp. injective) dimension and thereby only the \emph{bounded} derived category $\mCD^b(\mCA)$ is needed.

	\end{rem}

	Let us first assume the above theorems and study the projective objects in $\mCO$. The story for injective objects can be obtained using the contragradient duality.

	\begin{notn}
		For any $\lambda\in \mft^*$, we denote a projective cover of $L_\lambda$ by $P_\lambda$ (which is well-defined up to non-unique isomorphisms).

		Similarly, we denote an injective hull of $L_\lambda$ by $I_\lambda$.
	\end{notn}


	\begin{exe}
		This is \red{Homework 4, Problem 2}. For any $\lambda\in \mft^*$, prove:
		\begin{itemize}
			\item[(1)] 
				The surjection $P_\lambda \surj L_\lambda$ factors as $P_\lambda\to M_\lambda \to L_\lambda$.
			\item[(2)]
				The obtained map $P_\lambda \to M_\lambda$ is surjective and exhibits $P_\lambda$ as a projective cover of $M_\lambda$.
		\end{itemize}
	\end{exe}

	\begin{cor}
		\label{cor-BGG-pre}
		For any $M\in \mCO$, we have
		\[
			\dim \Hom_\mCO(P_\lambda,M) = [M:L_\lambda].
		\]
	\end{cor}

	To prove Thorem \ref{thm-enough-proj}, we need the following lemma

	\begin{lem}
		\label{lem-weigth-reprentable}
		For $\chi = \varpi(\lambda)$, the functor
		\[
			\mCO_\chi \to \Vect,\; M \mapsto M^{\weight = \lambda}.
		\]
		is representable.
	\end{lem}

	\begin{rem}
		If $\lambda$ is dot-dominant, then the above functor is represented by the Verma module $M_\lambda$. See [Lem. 22, Lect. 7]. The proof below is a slight modification of that proof.
	\end{rem}

	\proof
		For any $n\in \mBZ^{>0}$, let $I_{\lambda,n}\subset U(\mfg)$ be the left ideal genetated by the following elements:
		\begin{itemize}
			\item The element $t-\lambda(t)$ for any $t\in \mfh$;
			\item The element $x_1x_2\cdots x_n$ for $x_i\in \mfn^+$.
		\end{itemize}
		Let $M_{\lambda,n}:=U(\mfg)/I_{\lambda,n}$ be the quotient $U(\mfg)$-module. Note that $M_{\lambda,1}$ is just the Verma module. It is easy to see $M_{\lambda,n}\in \mCO$. Let $M_{\lambda,n,\chi}\in \mCO_\chi$ be the corresponding direct summand in the block $\mCO_\chi$.

		We claim for $n$ large enough, the module $M_{\lambda,n,\chi}$ represents the desired functor\footnote{By Yoneda lemma, this claim implies $M_{\lambda,n,\chi}$ and $M_{\lambda,n+1,\chi}$ are isomorphic for $n>>0$. In fact, one can directly prove the obvious map $M_{\lambda,n+1,\chi} \to M_{\lambda,n,\chi}$ is an isomorphism for $n>>0$. Sketch: let $I_{\lambda,n}' \subset U(\mfb)$ be the left ideal generated by the same set of elements. Then $M_{\lambda}\simeq \ind_\mfb^\mfg( U(\mfb)/I_{\lambda,n}' )$. We have 
		\[
			I_{\lambda,n}'/I_{\lambda,n+1}' \simeq \bigoplus_{\alpha_1,\cdots,\alpha_n\in \Phi^+} k_{\lambda+\sum_{i=1}^n \alpha_i}
		\]
		as $U(\mfb)$-modules. Hence we have a short exact sequence in $\mCO$:
		\[
			0 \to \bigoplus_{\alpha_1,\cdots,\alpha_n\in \Phi^+} M_{\lambda+\sum_{i=1}^n \alpha_i} \to M_{\lambda,n+1} \to M_{\lambda,n} \to 0.
		\]
		Now for $n>>0$, the kernel will not be contained in the block $\mCO_\chi$ by considering the weights.
		}. 

		Indeed, for any $N\in \mCO_\chi$, $\Hom_{\mCO}(M_{\lambda,n},N) \simeq \Hom_{\mCO_\chi}(M_{\lambda,n,\chi},N)$ is the set of $\lambda$-weight vector $v$ in $N$ such that $(\mfn^+)^n\cdot v = 0$. Then we win because weights occuring in $ \mCO_\chi$ have upper bounded with respect to the partial order $\preceq$.


	\qed

	\proof[Proof of Thoerem \ref{thm-enough-proj}]
		By the contragradient duality, we only need to prove $\mCO$ has enough projectives. By the block decomposition, we only need to prove $\mCO_\chi$ has enough projectives. Using dévissage, we only need to show any irreducbile $L_\lambda\in \mCO_\chi$ admits a surjection $P\surj L_\lambda$ with $P$ being projective. We need the following lemma:

		Let $P\in \mCO_\chi$ represents the functor in Lemma \ref{lem-weigth-reprentable}, i.e., $\Hom_{\mCO_\chi}(P,M) \simeq M^{\weight = \lambda}$. This functor is exact and therefore $P$ is projective. Taking $M:= L_\lambda$, any nonzero highest weight vector of $L_\lambda$ gives a nonzero morphism $P\to L_\lambda$. Since $L_\lambda$ is irreducible, this morphism is surjective as desired.
		
	\qed[Thoerem \ref{thm-enough-proj}]

	\begin{exe}
		This is \red{Homework 4, Problem 3}. For $\lambda\in \mft^*$, let $P\surj L_\lambda$ be the surjection constructed in the above proof, i.e., $P$ represents the functor
		\[
			\mCO_\chi \to \Vect,\; M \mapsto M^{\weight = \lambda}.
		\]
		Prove:
		\begin{itemize}
			\item[(1)]
				This map factors as $P \to P_\lambda \surj L_\lambda$. Moreover, $P\to P_\lambda$ is surjective.
			\item[(2)]
				For $\mfg=\sl_2$, the obtained map $P\to P_\lambda$ happens to be an isomorphism\footnote{Hint: using Corollary \ref{cor-BGG-pre}.}.
			\item[(3)]
				In general, $P\to P_\lambda$ is not an isomorphism\footnote{Hint: what we have learned so far can (at least) prove this for $\sl_3$ and $\sl_4$.}.
		\end{itemize}

	\end{exe}

\appendix
\section{Projective covers in Artinian and Noetherian category}

	\proof[Proof of Theorem \ref{thm-proj-cover-artinian}(1)]

		We first prove projective covers are isomorphic if they exist. This is true for any abelian category. Let $P_1\xrightarrow{p_1} M$ and $P_2\xrightarrow{p_2} M$ be projective covers of $M\in\mCA$. By the lifting property of $P_1$, the morphism $P_1\xrightarrow{p_1} M$ factors as $P_1 \xrightarrow{\phi} P_2 \xrightarrow{p_2} M$. The morphism $P_1\xrightarrow{\phi} P_2$ must be surjective because otherwise $P_2\xrightarrow{p_2} M$ is not essential. By the lifting property of $P_2$, the identity morphism $P_2 = P_2$ factors as $P_2 \xrightarrow{\varphi} P_1 \xrightarrow{\phi} P_2$. The morphism $P_2 \xrightarrow{\varphi} P_1 $ must be surjective because otherwise $P_1\xrightarrow{p_1} M$ is not essential. But $P_2 \xrightarrow{\varphi} P_1 $ is also injective because $\phi$ is a left inverse of it. It follows that both $\varphi$ and $\phi$ are isomorphisms.

		Now we prove any $M\in \mCA$ admits a projective cover. Let $P\xrightarrow{p} M$ be a surjection such that $P$ is projective and $\length(P)$ is minimal among all such surjections. We claim this is a projective cover. We only need to show $p$ is an essential surjection. Suppose $Q\xrightarrow{i} P$ is a subobject such that $q:=p\circ i$ is surjective. We only need to show $i$ is an isomorphism. We can assume $\length(Q)$ is minimal among all such subobjects. By the lifting property of $P$, the morphism $P\xrightarrow{p} M$ factors as $P\xrightarrow{r} Q \xrightarrow{q} M$. Consider the composition $Q\xrightarrow{i} P \xrightarrow{r} Q$. It must be surjective because otherwise $\Im(r\circ i) \subset Q$ would contradict the minimal assumption about $\length(Q)$. But then $r\circ i$ must be an isomorphism because $\length(\ker(r \circ i)) = \length(Q)-\length(Q) = 0$. It follows that $Q$ is a direct summand of $P$ and therefore is also projective. Then we must have $Q\simeq P$ because of the minimal assumption about $\length(P)$.

	\qed[Theorem \ref{thm-proj-cover-artinian}(1)]

	To prove (2), recall the following well-known result:

		\begin{lem}
			Let $\mCA$ be any abelian category and $M\in \mCA$ be an indecomposable object of finite length. Then:
			\begin{itemize}
				\item[(i)]
					Any $\phi:M\to M$ is either an isomorphism or nilpotent.
				\item[(ii)]
					If $\phi,\varphi:M\to M$ is such that $\phi+\varphi$ is an isomorphism, then one of them is an isomorphism.
			\end{itemize}
		\end{lem}

		\proof
			It is obvious that (ii) follows from (i). To prove (i), suppose $\phi$ is not nilpotent. The descending chain $M \supset \Im(\phi) \supset \Im(\phi^2) \supset \cdots$ must stablize at a nonzero subobject $N\subset M$. Then $\phi$ stablizes $N$ and $\phi|_N: N\to N$ is an isomorphism. Also, for $n>>0$, $\phi^n$ induces a surjection $\varphi_n: M\to N$. By definition $\varphi_n|_N = (\phi|_N)^n$. Hence $\phi_n|_N$ is also an isomorphism. Then $N$ is a direct summand of $M$. Since $M$ is indecomposable, we must have $N\simeq M$ and therefore $\phi$ is surjective. By considering lengths, it is an isomorphism.

		\qed

	\proof[Proof of Theorem \ref{thm-proj-cover-artinian}(2)]

		Suppose $P\surj L_1$ and $P\surj L_2$ are two non-isomorphic irreducible quotients. Let $K_1\subset P$ and $K_2\subset P$ be the kernels. Then the morphism $K_1\oplus K_2 \to P$ must be surjective. By the lifting property of $P$, the identity morphism $P=P$ factors as $P \to K_1\oplus K_2 \to P$. Let $\phi_i$ be the composition $P \to K_i \to P$. Then $\phi_1 +\phi_2 = \Id$. By the above lemma, one of $\phi_1,\phi_2$ is an isomorphism. But this is absurd.

	\qed[Theorem \ref{thm-proj-cover-artinian}(2)]

	\proof[Proof of Theorem \ref{thm-proj-cover-artinian}(3)]

		Let $L$ be an irreducible object and $P$ be a projective cover of it. Then $P$ is indecomposble because otherwise $P \surj L$ is not essential. Also, by (2), $L$ is the unique irreducible quotient of $P$.

		On the other hand, let $P$ be an indecomposable object and $L$ be the unique irreducible quotient of it. We only need to show $P\surj L$ is essential. But the same proof as in (1) suffices for this purpose.

	\qed[Theorem \ref{thm-proj-cover-artinian}(3)]

	\proof[Proof of Theorem \ref{thm-proj-cover-artinian}(4)]

		Using dévissage, we can reduce to the case when $M$ is irreducible. In this case, both sides are either 0 or 1, depending on whether $M$ and $L$ are isomorphic.

	\qed[Theorem \ref{thm-proj-cover-artinian}(4)]




	

	




\begin{thebibliography}{Yau}

	\bibitem[EMTW]{EMTW} Elias, Ben, Shotaro Makisumi, Ulrich Thiel, and Geordie Williamson. Introduction to Soergel bimodules. Vol. 5. Springer Nature, 2020.

	\bibitem[H]{H} Humphreys, James E. Representations of Semisimple Lie Algebras in the BGG Category $\mathcal{O} $. Vol. 94. American Mathematical Soc., 2008.

	\bibitem[S]{S} Soergel, Wolfgang. Kategorie $\mathcal{O}$, perverse Garben und Moduln über den Koinvarianten zur Weylgruppe. Journal of the American Mathematical Society 3, no. 2 (1990): 421-445.

\end{thebibliography}


\end{document} 


